<mt:IfArchiveTypeEnabled archive_type="Category">
    <mt:If tag="WidgetDisplayStyle" eq="Drop-down">
        <mt:SetVarBlock name="archives">
                <select>
            <mt:TopLevelCategories>
                <mt:SubCatIsFirst>
                    &nbsp;&nbsp;&nbsp;&nbsp;
                </mt:SubCatIsFirst>
                <mt:If tag="CategoryCount">
                    <option value="<mt:CategoryArchiveLink>"><mt:CategoryLabel></option>
                </mt:If>
                <mt:SubCatsRecurse>
                <mt:SubCatIsLast>
                </mt:SubCatIsLast>
            </mt:TopLevelCategories>
                </select>
        </mt:SetVarBlock>
    <mt:Else>
        <mt:SetVarBlock name="archives">
            <mt:TopLevelCategories>
                <mt:SubCatIsFirst>
                <ul>
                </mt:SubCatIsFirst>
                <mt:If tag="CategoryCount">
                    <li><a href="<mt:CategoryArchiveLink>" title="Contains <mt:CategoryCount> entries."><mt:CategoryLabel></a>
                </mt:If>
                <mt:SubCatsRecurse>
                    </li>
                <mt:SubCatIsLast>
                </ul>
                </mt:SubCatIsLast>
            </mt:TopLevelCategories>
        </mt:SetVarBlock>
    </mt:If>

    <div class="widget-archive-category widget-archive widget">
        <h3 class="widget-header"><a href="<mt:Link template="category_listing">">Categories</a></h3>
        <div class="widget-content">
            <mt:Var name="archives">
        </div>
    </div>
</mt:IfArchiveTypeEnabled>
